(()=>{let i=document,e=i.getElementById("siteHeader"),t=e.offsetTop;window.addEventListener("scroll",()=>{window.scrollY>t?e.classList.add("sticky"):e.classList.remove("sticky")});var s=()=>{var e=window.matchMedia("(max-width: 991px)");let r=i.querySelector(".nav-min-menu").querySelectorAll(".haveChild");if(e.matches){let o=i.querySelector(".nav-min-header"),a=i.querySelector(".nav-min-close");Object.keys(r).forEach(e=>{var t=r[e].querySelector("a");let s=r[e].querySelector(".dropdown-menu");e=s.querySelector(".nav-min-menu-children-closer");t.addEventListener("click",e=>{e.preventDefault(),s.classList.add("show"),o.classList.add("position-fixed")}),e.addEventListener("click",e=>{e.preventDefault(),s.classList.remove("show"),setTimeout(()=>{o.classList.remove("position-fixed")},10)}),a.addEventListener("click",e=>{s.classList.remove("show"),setTimeout(()=>{o.classList.remove("position-fixed")},10)})}),i.addEventListener("click",e=>{null===e.target.closest(".offcanvas-backdrop")&&setTimeout(()=>{o.classList.remove("position-fixed")},10)})}else Object.keys(r).forEach(e=>{r[e].querySelector("a").addEventListener("click",e=>{e.preventDefault(),e.target.classList.contains("show")?i.querySelector(".deskMenu-backdrop").classList.add("active"):i.querySelector(".deskMenu-backdrop").classList.remove("active")})}),i.addEventListener("click",e=>{e.target.closest(".deskMenu-backdrop")&&i.querySelector(".deskMenu-backdrop").classList.remove("active")})};s(),window.addEventListener("resize",s);let o=i.querySelector("#bookImg");if(o){let t=o.src;i.addEventListener("change",function(e){e.target.classList.contains("select-img")&&(e=e.target.options[e.target.selectedIndex].getAttribute("data-value"),o.src=e||t)})}i.addEventListener("click",function(e){e.target.classList.contains("save-favourite")&&(e.target.classList.toggle("active"),e.target.classList.contains("active")?e.target.parentElement.querySelector(".favourites-message .text").textContent="Added to favourites!":e.target.parentElement.querySelector(".favourites-message .text").textContent="Removed from Favourites!",e.target.parentElement.querySelector(".favourites-message").classList.add("active"))}),i.addEventListener("click",function(e){e.target.classList.contains("favourites-close")&&e.target.parentElement.classList.remove("active")}),i.addEventListener("click",function(e){e.target.closest(".favourites")||i.querySelectorAll(".favourites-message").forEach(function(e){e.classList.remove("active")})});s=()=>{window.matchMedia("(min-width: 768px)").matches&&i.addEventListener("click",function(e){var t;e.target.closest(".rota-close")&&((t=e.target.closest(".border-success")).querySelector(".btn-collapse").classList.add("collapsed"),t.querySelector(".rota-md-floated").classList.remove("show")),e.target.closest(".rota-close")||(i.querySelectorAll(".rota-md-floated").forEach(function(e){e.classList.remove("show")}),i.querySelectorAll(".btn-collapse").forEach(function(e){e.classList.add("collapsed")}))})};s(),window.addEventListener("resize",s);let a=i.querySelector(".date"),r=i.querySelector(".review-date"),l=i.querySelector(".time"),c=(a&&setTimeout(()=>{flatpickr(a,{minDate:"today",altFormat:"F j, Y",maxDate:(new Date).fp_incr(14)})},1800),r&&setTimeout(()=>{flatpickr(r,{altInput:!0,altFormat:"F j, Y",dateFormat:"Y-m-d"})},1800),l&&setTimeout(()=>{flatpickr(l,{enableTime:!0,noCalendar:!0,dateFormat:"h:i",time_24hr:!0})},1800),i.querySelectorAll(".inputFile")),n=(c&&Object.keys(c).forEach(function(e){c[e].querySelector('[type="file"]').addEventListener("change",function(){0<c[e].querySelector('[type="file"]').files.length&&(c[e].querySelector("label").innerText=c[e].querySelector('[type="file"]').files[0].name)})}),i.querySelectorAll(".accordion-collapse")),d=(n&&Object.keys(n).forEach(function(t){n[t].addEventListener("shown.bs.collapse",function(e){console.log(n[t]),e.stopPropagation();e=e.target.closest(".accordion-item");window.scrollTo({top:e.offsetTop-100,behavior:"smooth"})})}),i.querySelectorAll(".rota-tags .collapse")),u=(d&&Object.keys(d).forEach(function(e){d[e].addEventListener("shown.bs.collapse",function(e){e=e.target.closest(".rota-tags");console.log(e),window.scrollTo({top:e.offsetTop-100,behavior:"smooth"})})}),i.querySelectorAll(".favourites-filter li"));u&&Object.keys(u).forEach(function(s){u[s].addEventListener("click",function(){u.forEach(function(e){e.classList.remove("active")}),u[s].classList.add("active");let t=u[s].getAttribute("data-val");var e=i.querySelectorAll(".favourites-gallery > div");""===t?e.forEach(function(e){e.style.display="block"}):e.forEach(function(e){e.classList.contains(t)?e.style.display="block":e.style.display="none"})})});s=i.querySelector(".gallery-single-slider");if(s){let e=new Splide(s,{pagination:!0,autoplay:!1,interval:3e3,fixedWidth:"457px",fixedHeight:"598px",gap:"1.2rem",trimSpace:"move",focus:"center",breakpoints:{1199:{fixedWidth:"272px",fixedHeight:"350px"},575:{fixedWidth:"100%",fixedHeight:"482px"}}}).mount(),t=()=>{var e=i.querySelector(".splide__pagination");e.setAttribute("data-count",e.querySelectorAll("li").length),e.querySelectorAll("li").forEach((e,t)=>{e.querySelector("button").innerHTML=t+1})};t(),e.on("resize",()=>{t()})}Fancybox.bind(".single-profile")})();